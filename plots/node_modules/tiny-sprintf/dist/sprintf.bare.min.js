var A="length",B="substr",C="lastIndex",r=/%\+?(\d+\$)?(0|'.)?(-)?(\d+)?(\.\d+)?(.)/g;module.exports=function(e){for(var n,t,d,s,f=1;t=r.exec(e);){if(n=t[6],"s"==n){if((n=t[1])&&"$"==n[d=n[A]-1]&&(n=n[B](0,d)),n=arguments[n||f]+"",(d=t[2])?"'"==d[0]&&(d=d[1]):d=" ",s=t[4])for(;n[A]<s;)n=t[3]?n+d:d+n;(d=t[5]&&t[5][B](1))&&n[A]>d&&(n=t[3]?n[B](0,d):n[B](n[A]-d)),f++}e=e[B](0,d=t.index)+n+e[B](r[C]),r[C]=n[A]+d}return e};