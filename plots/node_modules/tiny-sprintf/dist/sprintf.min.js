var u,A="length",B="substr",C="lastIndex",r=/%(\+)?(\d+\$)?(0|'.)?(-)?(\d+)?(\.\d+)?(.)/g,s=function(e){for(var t,n,o,d,f,a=1;n=r.exec(e);){if(t=n[7],(d=n[2])&&"$"==d[o=d[A]-1]&&(d=d[B](0,o)),s[o=t.toLowerCase()]&&(f=s[o](arguments[d||a],/[A-Z]/.test(t),n[1]))!==u){if(t=""+f,(o=n[3])?"'"==o[0]&&(o=o[1]):o=" ",d=n[5])for(;t[A]<d;)t=n[4]?t+o:o+t;(o=n[6]&&n[6][B](1))&&t[A]>o&&(t=n[4]?t[B](0,o):t[B](t[A]-o)),a++}e=e[B](0,o=n.index)+t+e[B](r[C]),r[C]=t[A]+o}return e};s.s=function(r,e){return e?u:r+""},module.exports=s;